{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Our Properties </title>

     <!--=====FAB ICON=======-->
    <link rel="shortcut icon" href="{% static 'assets/img/logo/fav-logo1.png' %}" type="image/x-icon">

    <!--===== CSS LINK =======-->
    <link rel="stylesheet" href="{% static 'assets/css/plugins/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/aos.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/fontawesome.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/magnific-popup.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/mobile.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/owlcarousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/sidebar.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/slick-slider.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/nice-select.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/main.css' %}">

    <!--=====  JS SCRIPT LINK =======-->
    <script src="{% static 'assets/js/plugins/jquery-3-6-0.min.js' %}"></script>

    <style>
      .social-links-mobile-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex; 
  gap: 30px; 
}

.social-links-mobile-menu li {
  display: inline-block;
}

.social-links-mobile-menu a {
  text-decoration: none;
  color: inherit;
  font-size: 20px; 
}

.property-card {
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    overflow: hidden;
    transition: transform 0.3s;
    margin-bottom: 30px;
  }
  
  .property-card:hover {
    transform: translateY(-5px);
  }
  
  .property-img {
    position: relative;
    height: 250px;
    overflow: hidden;
  }
  
  .property-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .property-tag {
    position: absolute;
    top: 15px;
    right: 15px;
  }
  
  .property-tag .transaction-type {
    padding: 5px 15px;
    border-radius: 20px;
    font-weight: 600;
    font-size: 14px;
  }
  
  .transaction-type.rent {
    background: #007bff;
    color: white;
  }
  
  .transaction-type.sale {
    background: #28a745;
    color: white;
  }
  
  .property-content {
    padding: 20px;
  }
  
  .property-title {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 10px;
  }
  
  .property-location {
    color: #666;
    margin-bottom: 15px;
  }
  
  .property-details {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
    color: #444;
  }
  
  .property-details span {
    display: flex;
    align-items: center;
    gap: 5px;
  }
  
  .property-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 15px;
    border-top: 1px solid #eee;
  }
  
  .price {
    font-size: 18px;
    font-weight: 600;
    color: #007bff;
  }
  
  .broker-info {
    color: #666;
    font-size: 14px;
  }

  .property-filter .btn-group {
    background: #fff;
    padding: 5px;
    border-radius: 30px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }
  
  .btn-filter {
    padding: 10px 25px;
    border: none;
    border-radius: 25px !important;
    color: #666;
    font-weight: 500;
    transition: all 0.3s ease;
    margin: 0 5px;
    background: transparent;
  }
  
  .btn-filter:hover {
    color: #007bff;
    background: rgba(0,123,255,0.1);
  }
  
  .btn-filter.active {
    background: #007bff;
    color: white;
  }
    </style>
</head>
<body class="homepage1-body">

<!--===== PRELOADER STARTS =======-->
<div id="preloader">
  <div class="home-icon">
    <div class="roof"></div>
    <div class="walls"></div>
    <div class="door"></div>
      <div class="windows">
          <div class="window"></div>
          <div class="window"></div>
      </div>
  </div>
  <div id="ctn-preloader" class="ctn-preloader">
    <div class="animation-preloader">
        <div class="txt-loading">
             <span data-text-preloader="S" class="letters-loading">
              S
            </span>
            <span data-text-preloader="E" class="letters-loading">
               E
            </span>
            <span data-text-preloader="M" class="letters-loading">
                M
            </span>
            <span data-text-preloader="S" class="letters-loading">
                S
            </span>
            <span data-text-preloader="A" class="letters-loading">
                A
            </span>
            <span data-text-preloader="R" class="letters-loading">
                R
            </span>
        </div>
    </div>
  </div>
</div>
<!--===== PRELOADER ENDS =======-->

  <!--===== PAGE PROGRESS START=======-->
  <div class="paginacontainer">
    <div class="progress-wrap">
      <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
      </svg>
    </div>
  </div>
<!--===== PAGE PROGRESS END=======-->

   <!--=====HEADER START=======-->
   <header>
    <div class="header-area homepage1 inner-menu header header-sticky d-none d-lg-block " id="header">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="header-elements">
              <div class="site-logo">
                <a href="{% url 'home-user' %}"><img src="{% static 'assets/img/logo/logo2.png' %}" alt=""></a>
              </div>
              <div class="main-menu">
                <ul>
                  <li><a href="{% url 'home-user' %}">Home </a></li>
                  <li><a href="{% url 'about-user' %}">About</a></li>
                  <li><a href="{% url 'property-user' %}">Property</a></li>
                  <li><a href="{% url 'brokers' %}">Brokers</a></li>
                </ul>
              </div>
              <div class="btn-area">
                <a href="{% url 'logout' %}" class="header-btn1">Logout <img src="{% static 'assets/img/icons/arrow1.svg' %}" alt=""></a>
              </div>

              <div class="header-search-form-wrapper">
                <div class="tx-search-close tx-close"><i class="fa-solid fa-xmark"></i></div>
                <div class="header-search-container">
                    <form role="search" class="search-form">
                    <input type="search"  class="search-field" placeholder="Search …" value="" name="s">
                    <button type="submit" class="search-submit"><img src="{% static 'assets/img/icons/search1.svg' %}" alt=""></button>
                    </form>
                </div>
            </div>
            <div class="body-overlay"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
  <!--=====HEADER END =======-->

  <!--===== MOBILE HEADER STARTS =======-->

  <div class="mobile-header mobile-haeder2 d-block d-lg-none">
  <div class="container-fluid">
    <div class="col-12">
      <div class="mobile-header-elements">
        <div class="mobile-logo">
          <a href="{% url 'home-user' %}"><img src="{% static 'assets/img/logo/logo2.png' %}" alt=""></a>
        </div>
        <div class="mobile-nav-icon dots-menu">
          <i class="fa-solid fa-bars-staggered"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="mobile-sidebar mobile-sidebar2">
  <div class="logosicon-area">
     <div class="site-logo">
        <a href="{% url 'home-user' %}"><img src="{% static 'assets/img/logo/logo1.png' %}" alt=""></a>
        </div>
    <div class="menu-close">
      <i class="fa-solid fa-xmark"></i>
    </div>
   </div>
  <div class="mobile-nav mobile-nav1">
    <ul class="mobile-nav-list nav-list1">
      <li><a href="{% url 'home-user' %}" >Home </a></li>
      <li><a href="{% url 'about-user' %}">About</a></li>
      <li><a href="{% url 'property-user' %}">Property</a></li>
      <li><a href="{% url 'brokers' %}">Brokers</a></li>
    </ul>
    <div class="allmobilesection">
      <div class="single-footer">
        <h3>Contact Info</h3>
        <div class="footer1-contact-info">
          <div class="contact-info-single">
            <div class="contact-info-icon">
              <span><i class="fa-solid fa-phone-volume"></i></span>
            </div>
            <div class="contact-info-text">
              <a href="tel:+3(924)4596512">+0201020017477</a>
            </div>
          </div>
          
          <div class="single-footer" >
            <h3>Our Location</h3>
            <div class="contact-info-single">
              <div class="contact-info-icon">
                <span><i class="fa-solid fa-location-dot"></i></span>
              </div>
              <div class="contact-info-text">
                <a href="mailto:info@example.com" >57th Street, Al-Bashaer District<br> 6th october, Giza </a>
              </div>
            </div>
          </div>
          <div class="single-footer"  >
            <h3>Social Links</h3> 
            <div class="social-links-mobile-menu" >
              <ul>
                <li><a href="#"><i class="fa-brands fa-facebook-f"></i></a></li>
                <li><a href="#"><i class="fa-brands fa-instagram"></i></a></li>
                <li><a href="#"><i class="fa-brands fa-linkedin-in"></i></a></li>
                <li><a href="#"><i class="fa-brands fa-youtube"></i></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
     </div>
  </div>
</div>
 
<!--===== MOBILE HEADER STARTS =======-->

<!--===== HERO AREA STARTS =======-->
<div class="inner2-section-area">
  <div class="container">
      <div class="row">
          <div class="col-lg-5 m-auto">
              <div class="inner-header heading1 text-center">
                  <a href="{% url 'home-user' %}">Home <i class="fa-solid fa-angle-right"></i> <span>Property </span></a>
                  <div class="space20"></div>
                  <h2>Property</h2>
              </div>
          </div>
      </div>
  </div>
</div>
<!--===== HERO AREA ENDS =======-->

<!--===== PROPERTY AREA STARTS =======-->
<div class="property-inner-area sp1">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
          <div class="listing-tabs-area">
            <ul class="nav nav-pills" id="pills-tab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">For Rent</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">For Sale</button>
              </li>
            </ul>
            <div class="space24"></div>
            <div class="tab-content" id="pills-tabContent">
              <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab" tabindex="0">
                <div class="row">
                  <div class="col-lg-4">
                    <div class="listing-input">
                        <select id="city-rent" name="city-rent" class="city-select nice-select">
                            <option value="" selected disabled>City</option>
                            <option value="cairo">Cairo</option>
                            <option value="giza">Giza</option>
                        </select>
                    </div>
                    <div class="space24"></div>
                </div>                  
                  <div class="col-lg-4">
                      <div class="listing-input">
                        <select id="area-rent" name="area-rent" class="area-select nice-select">
                          <option value="" disabled selected>Area</option>
  
                          <!-- CAIRO -->
                          
                          <option value="shubra"          data-city="cairo">Shubra</option>
                          <option value="elmarg"          data-city="cairo">El Marg</option>
                          <option value="dar-el-salam"    data-city="cairo">Dar El Salam</option>
                          <option value="maadi"           data-city="cairo">Maadi</option>
                          <option value="nasr-city"       data-city="cairo">Nasr City</option>
                          <option value="mokattam"        data-city="cairo">Mokattam</option>
                          <option value="new-cairo"       data-city="cairo">New Cairo</option>
                          <option value="garden-city"     data-city="cairo">Garden City</option>
                          <option value="al-rehab-city"   data-city="cairo">Al Rehab City</option>

                          <!-- ===================== GIZA ===================== -->
                          <option value="imbaba"            data-city="giza">Imbaba</option>
                          <option value="boulaq-eldakrour"  data-city="giza">Boulaq El-Dakrour</option>
                          <option value="elmarg"            data-city="giza">El Marg</option>
                          <option value="mohandessin"       data-city="giza">Mohandessin</option>
                          <option value="dokki"             data-city="giza">Dokki</option>
                          <option value="agouza"            data-city="giza">Agouza</option>
                          <option value="beverly-hills"     data-city="giza">Beverly Hills</option>
                          <option value="dream-land"        data-city="giza">Dream Land</option>
                          <option value="sheikh-zayed"      data-city="giza">Sheikh Zayed</option>
                      </select>
                      </div>
                      <div class="space24"></div>
                  </div>
              
                  <div class="col-lg-4">
                    <div class="listing-input">
                      <select name="Type-rent" class="nice-select">
                          <option value="" selected disabled>Type</option>
                          <option value="Roof">Roof</option>
                          <option value="Apartment">Apartment</option>
                          <option value="Duplex">Duplex</option>
                          <option value="Villa">Villa</option>
                      </select>
                  </div>
                    <div class="space24"></div>
                </div>

            <div class="col-lg-4">
              <div class="listing-input">
                <input  type="number"
                        name="bathrooms-rent"
                        class="nice-select"   
                        placeholder="Bathrooms"
                        min="0"              
                        step="1"           
                        inputmode="numeric">             
              </div>
              <div class="space24"></div>
          </div>
          <div class="col-lg-4">
            <div class="listing-input">
              <input  type="number"
                      name="bedrooms-rent"
                      class="nice-select"   
                      placeholder="Bedrooms"
                      min="0"              
                      step="1"           
                      inputmode="numeric">             
            </div>
            <div class="space24"></div>
        </div>

        <div class="col-lg-4">
         <div class="row">
          <div class="col-lg-6">
            <div class="listing-input">
              <input  type="number"
                      name="min_price-rent"
                      class="nice-select"   
                      placeholder="Min Price (EGP)"
                      min="0"              
                      step="1000"           
                      inputmode="numeric">             
            </div>
          <div class="space24"></div>
          </div>
          
          <div class="col-lg-6">
            <div class="listing-input">
              <input  type="number"
                      name="max_price-rent"
                      class="nice-select"   
                      placeholder="Max Price (EGP)"
                      min="0"              
                      step="1000"           
                      inputmode="numeric">             
            </div>
          <div class="space24"></div>
          </div>
          </div>
          </div>
          
          <div class="col-lg-4">
          <div class="row">
          <div class="col-lg-6">
            <div class="listing-input">
              <input  type="number"
                      name="min_size-rent"
                      class="nice-select"   
                      placeholder="Min Size (m²)"
                      min="0"              
                      step="1"           
                      inputmode="numeric">             
            </div>
          <div class="space24"></div>
          </div>
          
          <div class="col-lg-6">
            <div class="listing-input">
              <input  type="number"
                      name="max_size-rent"
                      class="nice-select"   
                      placeholder="Max Size (m²)"
                      min="0"              
                      step="1"           
                      inputmode="numeric">             
            </div>
           <div class="space24"></div>
         </div>

              <div class="col-lg-6">                 
                  <label>
                    <input type="checkbox" name="Furnished" value="yes">
                    Furnished
                  </label>                              
                <div class="space24"></div>
            </div>
        </div>
     </div>

     <div class="col-lg-4">
      <div class="row">

      </div>
   </div>

   <div class="col-lg-4">
    <div class="listing-input">

    </div>
    <div class="space24"></div>
</div>

<div class="col-lg-4">
<div class="space24"></div>

<div class="btn-area1">
  <button class="header-btn1 send-to-brokers" type="submit" style="margin-top: 10px;"><img src="{% static 'assets/img/icons/search2.svg' %}" alt=""> Search Your Property</button>
</div>
</div>
</div>
</div>
<div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab" tabindex="0">
<div class="row">
  <div class="col-lg-4">
    <div class="listing-input">
      <select id="city-sale" name="city-sale" class="city-select nice-select">
        <option value="" disabled selected>City</option>
        <option value="cairo">Cairo</option>
        <option value="giza">Giza</option>
    </select>
    </div>
    <div class="space24"></div>
  </div> 

  <div class="col-lg-4">
      <div class="listing-input">
        <select id="area-sale" name="area-sale" class="area-select nice-select">
          <option value="" disabled selected>Area</option>
  
          <!-- CAIRO -->
          
          <option value="shubra"          data-city="cairo">Shubra</option>
          <option value="elmarg"          data-city="cairo">El Marg</option>
          <option value="dar-el-salam"    data-city="cairo">Dokki</option>
          <option value="maadi"           data-city="cairo">Manshiyat Naser</option>
          <option value="nasr-city"       data-city="cairo">Nasr City</option>
          <option value="mokattam"        data-city="cairo">Mokattam</option>
          <option value="new-cairo"       data-city="cairo">New Cairo</option>
          <option value="garden-city"     data-city="cairo">Garden City</option>
          <option value="al-rehab-city"   data-city="cairo">Al Rehab City</option>

          <!-- ===================== GIZA ===================== -->
          <option value="imbaba"            data-city="giza">Imbaba</option>
          <option value="boulaq-eldakrour"  data-city="giza">Boulaq El-Dakrour</option>
          <option value="elmarg"            data-city="giza">El Marg</option>
          <option value="mohandessin"       data-city="giza">Mohandessin</option>
          <option value="dokki"             data-city="giza">Dokki</option>
          <option value="agouza"            data-city="giza">Agouza</option>
          <option value="beverly-hills"     data-city="giza">Beverly Hills</option>
          <option value="dream-land"        data-city="giza">Dream Land</option>
          <option value="sheikh-zayed"      data-city="giza">Sheikh Zayed</option>
      </select>
      </div>
      <div class="space24"></div>
  </div>


  <div class="col-lg-4">
    <div class="listing-input">
      <select name="Type-rent" class="nice-select">
          <option value="" selected disabled>Type</option>
          <option value="Roof">Roof</option>
          <option value="Apartment">Apartment</option>
          <option value="Duplex">Duplex</option>
          <option value="Villa">Villa</option>
        </select>
  </div>
    <div class="space24"></div>
</div>

<div class="col-lg-4">
<div class="listing-input">
<input  type="number"
        name="bathrooms-rent"
        class="nice-select"   
        placeholder="Bathrooms"
        min="0"              
        step="1"           
        inputmode="numeric">             
</div>
<div class="space24"></div>
</div>
<div class="col-lg-4">
<div class="listing-input">
<input  type="number"
      name="bedrooms-rent"
      class="nice-select"   
      placeholder="Bedrooms"
      min="0"              
      step="1"           
      inputmode="numeric">             
</div>
<div class="space24"></div>
</div>

<div class="col-lg-4">
<div class="row">
<div class="col-lg-6">
<div class="listing-input">
<input  type="number"
      name="min_price-rent"
      class="nice-select"   
      placeholder="Min Price (EGP)"
      min="0"              
      step="1000"           
      inputmode="numeric">             
</div>
<div class="space24"></div>
</div>

<div class="col-lg-6">
<div class="listing-input">
<input  type="number"
      name="max_price-rent"
      class="nice-select"   
      placeholder="Max Price (EGP)"
      min="0"              
      step="1000"           
      inputmode="numeric">             
</div>
<div class="space24"></div>
</div>
</div>
</div>

<div class="col-lg-4">
<div class="row">
<div class="col-lg-6">
<div class="listing-input">
<input  type="number"
      name="min_size-rent"
      class="nice-select"   
      placeholder="Min Size (m²)"
      min="0"              
      step="1"           
      inputmode="numeric">             
</div>
<div class="space24"></div>
</div>

<div class="col-lg-6">
<div class="listing-input">
<input  type="number"
      name="max_size-rent"
      class="nice-select"   
      placeholder="Max Size (m²)"
      min="0"              
      step="1"           
      inputmode="numeric">             
</div>
<div class="space24"></div>
</div>

<div class="col-lg-6">                 
  <label>
    <input type="checkbox" name="Furnished" value="yes">
    Furnished
  </label>                              
<div class="space24"></div>
</div>
</div>
</div>


<div class="col-lg-4">
<div class="listing-input">
<select name="Finish" class="nice-select">
  <option value="" selected disabled>Finish</option>
  <option value="Finished">Finished</option>
  <option value="Unfinished">Unfinished</option>
  <option value="Semi-Finished">Semi-Finished</option>
</select>
</div>
<div class="space24"></div>
</div>

<div class="col-lg-4">                                        
<div class="space24"></div>
</div>

<div class="col-lg-4">
<div class="space24"></div>
<div class="btn-area1">
<button class="header-btn1 send-to-brokers" type="submit" style="margin-top: 10px;"><img src="{% static 'assets/img/icons/search2.svg' %}" alt=""> Search Your Property</button>
</div>
</div>
<div id="inquiry-list" class="space24"></div>
</div>
</div>
</div>
</div>
</div>

<!--===== PROPERTY AREA ENDS =======-->

<!--===== PROPERTY LISTINGS SECTION =======-->
<div class="property-listings-section sp1">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="section-title text-center mb-4">
          <h2>Available Properties</h2>
          <p>Browse through our collection of properties listed by trusted brokers</p>
        </div>
        
        <!-- Property Type Filter -->
        <div class="property-filter text-center mb-5">
          <div class="btn-group" role="group" aria-label="Property type filter">
            <button type="button" class="btn btn-filter active" data-filter="all">
              All Properties
            </button>
            <button type="button" class="btn btn-filter" data-filter="For Rent">
              For Rent
            </button>
            <button type="button" class="btn btn-filter" data-filter="For Sale">
              For Sale
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="row" id="property-cards-container">
      <!-- Property cards will be dynamically inserted here -->
    </div>
  </div>
</div>

<!--===== PROPERTY CARD TEMPLATE =======-->
<template id="property-card-template">
  <div class="col-lg-4 col-md-6 mb-4">
    <div class="property-card">
      <div class="property-img">
        <img src="" alt="Property Image" class="img-fluid">
        <div class="property-tag">
          <span class="transaction-type"></span>
        </div>
      </div>
      <div class="property-content">
        <div class="property-info">
          <h3 class="property-title"></h3>
          <p class="property-location"><i class="fa-solid fa-location-dot"></i> <span class="location-text"></span> &nbsp;|&nbsp; <i class="fa-solid fa-tag"></i> <span class="property-type"></span></p>
          <div class="property-details">
            <span><i class="fa-solid fa-bed"></i> <span class="bedrooms"></span> Beds</span>
            <span><i class="fa-solid fa-bath"></i> <span class="bathrooms"></span> Baths</span>
            <span><i class="fa-solid fa-ruler-combined"></i> <span class="area"></span> sqm</span>
          </div>
          <div class="property-meta">
            <div class="price"></div>
            <div class="broker-info">
              <i class="fa-solid fa-user"></i> <span class="broker-name"></span><br>
              <i class="fa-solid fa-phone"></i> <span class="broker-phone"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<!--===== PROPERTY LISTINGS SECTION =======-->

<!--===== CTA AREA STARTS =======-->
<div class="cta1-section-area">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-5">
        <div class="cta-header heading1">
          <h2 >We’re Here To Find Your New Home Project.</h2>
        </div>
      </div>
      <div class="col-lg-3"></div>
      <div class="col-lg-4">
        <div class="cta-btn-area">
          <a href="{% url 'brokers' %}" class="header-btn1">Request a Broker<img src="{% static 'assets/img/icons/arrow1.svg' %}" alt=""></a>
          <a href="{% url 'property-user' %}" class="header-btn1 btn1">Our Property <img src="{% static 'assets/img/icons/arrow1.svg' %}" alt=""></a>
        </div>
      </div>
    </div>
  </div>
</div>
<!--===== CTA AREA ENDS =======-->

<!--===== FOOTER AREA STARTS =======-->
<div class="footer1-section-area">
  <div class="container">
    <div class="row">
      <div class="col-lg-4 col-md-6">
        <div class="footer-logo-area">
          <img src="{% static 'assets/img/logo/logo1.png' %}" alt="">
          <div class="space32"></div>
          <h4>Your dream property comes true</h4>
          <div class="space16"></div>
          <p>At Semsar, we are committed to providing exceptional service and support. Whether you are looking buy or rent in real estate, our team is here help.</p>
          
          <ul>
            <li><a href="#"><i class="fa-brands fa-facebook-f"></i></a></li>
            <li><a href="#"><i class="fa-brands fa-instagram"></i></a></li>
            <li><a href="#"><i class="fa-brands fa-linkedin-in"></i></a></li>
            <li><a href="#"><i class="fa-brands fa-youtube"></i></a></li>
          </ul>
        </div>
      </div>

      <div class="col-lg col-md-6">
        <div class="footer-header padding-left1">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="{% url 'home-user' %}">Home</a></li>
            <li><a href="{% url 'about-user' %}">About Us</a></li>
            <li><a href="{% url 'property-user' %}">Properties</a></li>
            <li><a href="{% url 'brokers' %}">Brokers</a></li>
          </ul>
        </div>
      </div>


      <div class="col-lg col-md-6">
        <div class="footer-header">
          <h3>   Info   </h3>
          <ul>
            <li><span><img src="{% static 'assets/img/icons/location1.svg' %}" alt=""></span><a href="">82 Beside Banque Misr, Maadi, Cairo, Egypt</a></li>
            <li><span><img src="{% static 'assets/img/icons/call1.svg' %}" alt=""></span><a href="tel:0123456789">+20123456789</a></li>
            
          </ul>
        </div>
      </div>
    </div>
    <div class="space50 d-lg-block d-none"></div>
    <div class="space30 d-lg-none d-block"></div>
    <div class="row">
      <div class="col-lg-12">
        <div class="copyright">
          <div class="pera">
            <p>ⓒCopyright 2025 Semsar . All rights reserved</p>
          </div>
          
        </div>
      </div>
    </div>
  </div>
</div>
<!--===== FOOTER AREA ENDS =======-->

<!--===== JS SCRIPT LINK =======-->
<script src="{% static 'assets/js/plugins/jquery-3-6-0.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/bootstrap.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/fontawesome.js' %}"></script>
<script src="{% static 'assets/js/plugins/aos.js' %}"></script>
<script src="{% static 'assets/js/plugins/counter.js' %}"></script>
<script src="{% static 'assets/js/plugins/sidebar.js' %}"></script>
<script src="{% static 'assets/js/plugins/magnific-popup.js' %}"></script>
<script src="{% static 'assets/js/plugins/mobilemenu.js' %}"></script>
<script src="{% static 'assets/js/plugins/owlcarousel.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/nice-select.js' %}"></script>
<script src="{% static 'assets/js/plugins/waypoints.js' %}"></script>
<script src="{% static 'assets/js/plugins/slick-slider.js' %}"></script>
<script src="{% static 'assets/js/plugins/circle-progress.js' %}"></script>
<script src="{% static 'assets/js/plugins/gsap.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/ScrollTrigger.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/Splitetext.js' %}"></script>
<script src="{% static 'assets/js/main.js' %}"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const areas = {
      cairo: ["Nasr City", "Maadi", "Heliopolis", "New Cairo", "Helwan"],
      giza: ["Dokki", "Mohandessin", "Faisal", "Haram", "Agouza"]
    };

    const governorateSelect = document.getElementById("governorate");
    const areaSelect = document.getElementById("area");

    governorateSelect.addEventListener("change", function () {
      const selectedGovernorate = this.value;
      areaSelect.innerHTML = ""; // Clear old options

      if (areas[selectedGovernorate]) {
        areas[selectedGovernorate].forEach(function (area) {
          const option = document.createElement("option");
          option.value = area;
          option.textContent = area;
          areaSelect.appendChild(option);
        });
      } else {
        const option = document.createElement("option");
        option.value = "";
        option.textContent = "Select Area";
        areaSelect.appendChild(option);
      }
    });
  });
</script>

<script>
// Function to fetch properties from the backend
async function fetchProperties() {
  try {
    const response = await fetch('/api/properties/');
    if (!response.ok) throw new Error('Failed to fetch properties');
    const data = await response.json();
    return data.properties;
  } catch (error) {
    console.error('Error fetching properties:', error);
    return [];
  }
}

// Function to create property card from template
function createPropertyCard(property) {
  const template = document.getElementById('property-card-template');
  const card = template.content.cloneNode(true);
  
  // Set property image from database
  const img = card.querySelector('.property-img img');
  if (property.images && property.images.length > 0) {
    let src = property.images[0];
    // If already absolute or starts with /media, keep as-is otherwise prefix
    if (!src.startsWith('http') && !src.startsWith('/')) {
      src = `/media/${src}`;
    }
    img.src = src;
  } else {
    img.src = '{% static "assets/img/placeholder-property.jpg" %}';
  }
  img.alt = property.title;
  
  // Set transaction type with appropriate styling
  const transactionType = card.querySelector('.transaction-type');
  transactionType.textContent = property.transaction_type;
  transactionType.classList.add(property.transaction_type.toLowerCase().replace(' ', '-'));
  
  // Set property details
  card.querySelector('.property-title').textContent = property.title;
  card.querySelector('.location-text').textContent = `${property.city}, ${property.area}`;
  card.querySelector('.bedrooms').textContent = property.bedrooms;
  card.querySelector('.bathrooms').textContent = property.bathrooms;
  card.querySelector('.area').textContent = property.size;
  card.querySelector('.price').textContent = property.price;
  card.querySelector('.broker-name').textContent = property.broker_name;
  card.querySelector('.broker-phone').textContent = property.broker_phone;
  card.querySelector('.property-type').textContent = property.property_type;
  
  // Add data attribute for filtering
  const cardElement = card.querySelector('.col-lg-4');
  cardElement.setAttribute('data-type', property.transaction_type);
  
  return card;
}

// Function to render properties with optional filter
async function renderProperties(filter = 'all') {
  const container = document.getElementById('property-cards-container');
  const properties = await fetchProperties();
  
  container.innerHTML = ''; // Clear existing cards
  
  if (properties.length === 0) {
    container.innerHTML = `
      <div class="col-12 text-center">
        <p>No properties available at the moment.</p>
      </div>
    `;
    return;
  }
  
  const filteredProperties = filter === 'all' 
    ? properties 
    : properties.filter(p => p.transaction_type === filter);
    
  if (filteredProperties.length === 0) {
    container.innerHTML = `
      <div class="col-12 text-center">
        <p>No ${filter.toLowerCase()} properties available.</p>
      </div>
    `;
    return;
  }
  
  filteredProperties.forEach(property => {
    container.appendChild(createPropertyCard(property));
  });
}

// Initialize filter buttons
function initializeFilters() {
  const filterButtons = document.querySelectorAll('.btn-filter');
  
  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Update active state
      filterButtons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');
      
      // Apply filter
      const filter = button.getAttribute('data-filter');
      renderProperties(filter);
    });
  });
}

// Initialize when the page loads
document.addEventListener('DOMContentLoaded', () => {
  renderProperties('all');
  initializeFilters();
});
</script>
</body>
</html>